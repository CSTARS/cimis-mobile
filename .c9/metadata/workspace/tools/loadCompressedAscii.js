{"filter":false,"title":"loadCompressedAscii.js","tooltip":"/tools/loadCompressedAscii.js","undoManager":{"mark":11,"position":11,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":45,"column":0}},"lines":["function loadCompressedASCIIFile(request_url) {","","    var req = new XMLHttpRequest();","    ","    // You gotta trick it into downloading binary.","    req.open('GET', request_url, false);","    req.overrideMimeType('text\\/plain; charset=x-user-defined');    ","    req.send(null);","    ","    // Check for any error....","    if (req.status != 200) {","        return '';","    }","","    // Here's our raw binary.","    var rawfile = req.responseText;","","    // Ok you gotta walk all the characters here, to remove the high-order values.","","    // Create a byte array.","    bytes = [];","","    // Walk through each character in the stream.","    for (var fileidx = 0; fileidx < rawfile.length; fileidx++) {","        var abyte = rawfile.charCodeAt(fileidx) & 0xff;","        bytes.push(abyte);","    }","","    // Instantiate our zlib object, and gunzip it.    ","    // Requires: https://github.com/imaya/zlib.js/blob/master/bin/gunzip.min.js","    // (remove the map instruction at the very end.)","    var  gunzip  =  new  Zlib.Gunzip ( bytes ); ","    var  plain  =  gunzip.decompress ();","","    // Now go ahead and create an ascii string from all those bytes.","    // Seeing we've just got a big ole byte buffer, but, not an ASCII file.","    var asciistring = \"\";","    for (var i = 0; i < plain.length; i++) {","        asciistring += String.fromCharCode(plain[i]);","    }","","    return asciistring;","",""]},{"action":"insertText","range":{"start":{"row":45,"column":0},"end":{"row":45,"column":1}},"text":"}"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":3},"end":{"row":1,"column":9}},"text":"ction "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":2},"end":{"row":1,"column":3}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":0},"end":{"row":1,"column":2}},"text":"fu"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":0},"end":{"row":1,"column":3}},"text":"exp"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":3},"end":{"row":1,"column":4}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":4},"end":{"row":1,"column":7}},"text":"rts"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":7},"end":{"row":1,"column":8}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":31},"end":{"row":1,"column":32}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":32},"end":{"row":1,"column":35}},"text":"= f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":35},"end":{"row":1,"column":38}},"text":"unc"},{"action":"insertText","range":{"start":{"row":1,"column":38},"end":{"row":1,"column":40}},"text":"ti"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":40},"end":{"row":1,"column":42}},"text":"on"}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1411675688936,"hash":"fff618b7e8915ce29bd9da521d090b0b967a27d7"}