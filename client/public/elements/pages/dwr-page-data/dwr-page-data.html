<link rel="import" href="dwr-page-cimis-grid.html">
<link rel="import" href="dwr-page-station.html">
<link rel="import" href="dwr-page-dau.html">
<link rel="import" href="dwr-page-eto.html">

<dom-module id="dwr-page-data">
  <template>
    <style>
      :host {
        display: block;
      }

      .center {
        display: flex;
        justify-content: center;
      }

      iron-pages {
        width: 100%;
        max-width: 1000px;
      }
    </style>

    <div class="center">
      <iron-pages 
        selected="[[selected]]" 
        attr-for-selected="page"
        selected-attribute="active">

        <dwr-page-cimis-grid page="cimisGrid"></dwr-page-cimis-grid>
        <dwr-page-cimis-station page="cimisStations"></dwr-page-cimis-station>
        <dwr-page-dau page="dauZones"></dwr-page-dau>
        <dwr-page-eto page="etoZones"></dwr-page-eto>

      </iron-pages>
    </div>
    
  </template>
  <script>
    class DwrPageData extends Mixin(Polymer.Element)
      .with(EventMixin, AppStateMixin) {

      static get is() { return 'dwr-page-data'; }
      
      static get properties() {
        return {
          properties: {
            appState: {
                type: Object
            },
            selected : {
              type : String,
              value : ''
            }
          }
        }
      }

      _onAppStateUpdate(e) {
        this.appState = e;

        if( this.appState.section !== 'data' ) {
          this.selected = '';
          return;
        }

        this.selected = this.appState.mapState;
      }
    }
    window.customElements.define(DwrPageData.is, DwrPageData);
  </script>
</dom-module>
